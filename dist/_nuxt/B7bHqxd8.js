import{d as h,O as U,j as C,P as B,r as R,T as q,g as $,U as j,b as m,H as A,a as x,V as D,u as s,E as e,S,Q as b,R as N,W as V,X as T,_ as M,G as w,F as E,Y as F,f as O,Z as X,$ as Y,a0 as Z}from"./Ki-fkkP3.js";import{u as z,_ as G,a as H}from"./DrjXfDdp.js";const L={key:0},Q={method:"post",action:""},W={class:"modal-body left"},J={class:"post-colors-buttons"},K={class:"modal-buttons"},ee=h({__name:"AddPostModal",props:{name:{},modelValue:{type:Boolean},header:{type:Boolean,default:!0},buttons:{type:Boolean,default:!0},borders:{type:Boolean,default:!0}},emits:["closed","proceed","update:modelValue"],setup(c,{expose:d,emit:_}){const u=c,r=U(),{$bridge:p}=C(),i=p;i.setjwt(B("token").value??"");const o=R({createdBy:r.user.id,content:"",color:"",coordX:0,coordY:0,coordZ:0,colocationId:r.user.colocationId}),{modelValue:v}=q(u),{open:n,close:f,toggle:k,visible:a}=z(u.name),g=_;d({open:n,close:f,toggle:k,visible:a});const P=()=>{f(),g("closed")},I=async()=>{await i.addReminder(o.value),f(),g("proceed")};return $(v,(y,t)=>{y!==t&&k(y)},{immediate:!0}),$(a,y=>{g("update:modelValue",y)}),(y,t)=>(m(),j(T,{name:"modal"},{default:A(()=>[s(a)?(m(),x("div",L,[e("div",{class:"modal-background",onClick:P},[e("div",{class:"modal",onClick:t[5]||(t[5]=S(()=>{},["stop"]))},[t[6]||(t[6]=e("div",{class:"modal-header left"},[e("h1",{class:"modal-header-text"},"Contenu du post : ")],-1)),e("form",Q,[e("div",W,[b(e("textarea",{class:"modal-body-input",rows:"3","onUpdate:modelValue":t[0]||(t[0]=l=>s(o).content=l),required:""},null,512),[[N,s(o).content]])]),e("div",J,[b(e("input",{class:"form-check-input color-choice blue","onUpdate:modelValue":t[1]||(t[1]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios1",value:"blue",required:""},null,512),[[V,s(o).color]]),b(e("input",{class:"form-check-input color-choice yellow","onUpdate:modelValue":t[2]||(t[2]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios2",value:"yellow"},null,512),[[V,s(o).color]]),b(e("input",{class:"form-check-input color-choice pink","onUpdate:modelValue":t[3]||(t[3]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios3",value:"pink"},null,512),[[V,s(o).color]]),b(e("input",{class:"form-check-input color-choice green","onUpdate:modelValue":t[4]||(t[4]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios4",value:"green"},null,512),[[V,s(o).color]])]),e("div",K,[e("button",{class:"button button-proceed",onClick:S(I,["prevent"])},"Poster")])])])])])):D("",!0)]),_:1}))}}),oe=M(ee,[["__scopeId","data-v-ebe94d32"]]),te={__name:"Post",props:{id:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,required:!0}},emits:["delete"],setup(c,{emit:d}){const _=c,{$bridge:u}=C(),r=u;r.setjwt(B("token").value??"");const p=d,i=async()=>{await r.deleteReminder(_.id),p("delete")};return(o,v)=>{const n=G;return m(),x("div",{class:F(["post",c.color])},[e("button",{class:"delete-button",onClick:i},"x"),e("p",null,E(c.text),1),w(n,{class:"profile-icon"})],2)}}},se=M(te,[["__scopeId","data-v-a9774975"]]),ne={__name:"index",setup(c){const d=R(!1),_=()=>d.value=!0,u=U(),{$bridge:r}=C(),p=r;p.setjwt(B("token").value??"");const i=R([]),o=async()=>{const v=await p.getAllReminders(u.user.colocationId);i.value=v};return O(async()=>{await o()}),(v,n)=>{const f=oe,k=se;return m(),x("div",null,[w(f,{modelValue:s(d),"onUpdate:modelValue":n[0]||(n[0]=a=>X(d)?d.value=a:null),onProceed:n[1]||(n[1]=a=>o())},null,8,["modelValue"]),e("button",{class:"add-post","data-toggle":"modal","data-target":".bd-example-modal-sm",onClick:_},n[3]||(n[3]=[e("img",{src:H,class:"plus"},null,-1)])),(m(!0),x(Y,null,Z(s(i),(a,g)=>(m(),x("div",{key:g},[w(k,{id:a.id,text:a.content,color:a.color,onDelete:n[2]||(n[2]=P=>o())},null,8,["id","text","color"])]))),128))])}}},de=M(ne,[["__scopeId","data-v-891c8e4a"]]);export{de as default};
