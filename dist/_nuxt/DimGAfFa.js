import{d as h,J as $,j as C,K as M,r as R,O as q,g as S,P as N,b as m,H as j,a as x,Q as A,u as s,E as e,N as U,L as b,M as D,R as V,T,_ as B,G as w,F as E,S as F,f as L,U as O,V as z,W as G}from"./CeVxT60x.js";import{u as H,_ as J,a as K}from"./B3HMJt9m.js";const Q={key:0},W={method:"post",action:""},X={class:"modal-body left"},Y={class:"post-colors-buttons"},Z={class:"modal-buttons"},ee=h({__name:"AddPostModal",props:{name:{},modelValue:{type:Boolean},header:{type:Boolean,default:!0},buttons:{type:Boolean,default:!0},borders:{type:Boolean,default:!0}},emits:["closed","proceed","update:modelValue"],setup(c,{expose:d,emit:_}){const u=c,r=$(),{$bridge:p}=C(),i=p;i.setjwt(M("token").value??"");const o=R({createdBy:r.user.id,content:"",color:"",coordX:0,coordY:0,coordZ:0,colocationId:r.user.colocationId}),{modelValue:v}=q(u),{open:n,close:f,toggle:k,visible:a}=H(u.name),g=_;d({open:n,close:f,toggle:k,visible:a});const P=()=>{f(),g("closed")},I=async()=>{await i.addReminder(o.value),f(),g("proceed")};return S(v,(y,t)=>{y!==t&&k(y)},{immediate:!0}),S(a,y=>{g("update:modelValue",y)}),(y,t)=>(m(),N(T,{name:"modal"},{default:j(()=>[s(a)?(m(),x("div",Q,[e("div",{class:"modal-background",onClick:P},[e("div",{class:"modal",onClick:t[5]||(t[5]=U(()=>{},["stop"]))},[t[6]||(t[6]=e("div",{class:"modal-header left"},[e("h1",{class:"modal-header-text"},"Contenu du post : ")],-1)),e("form",W,[e("div",X,[b(e("textarea",{class:"modal-body-input",rows:"3","onUpdate:modelValue":t[0]||(t[0]=l=>s(o).content=l),required:""},null,512),[[D,s(o).content]])]),e("div",Y,[b(e("input",{class:"form-check-input color-choice blue","onUpdate:modelValue":t[1]||(t[1]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios1",value:"blue",required:""},null,512),[[V,s(o).color]]),b(e("input",{class:"form-check-input color-choice yellow","onUpdate:modelValue":t[2]||(t[2]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios2",value:"yellow"},null,512),[[V,s(o).color]]),b(e("input",{class:"form-check-input color-choice pink","onUpdate:modelValue":t[3]||(t[3]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios3",value:"pink"},null,512),[[V,s(o).color]]),b(e("input",{class:"form-check-input color-choice green","onUpdate:modelValue":t[4]||(t[4]=l=>s(o).color=l),type:"radio",name:"gridRadios",id:"gridRadios4",value:"green"},null,512),[[V,s(o).color]])]),e("div",Z,[e("button",{class:"button button-proceed",onClick:U(I,["prevent"])},"Poster")])])])])])):A("",!0)]),_:1}))}}),oe=B(ee,[["__scopeId","data-v-ebe94d32"]]),te={__name:"Post",props:{id:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,required:!0}},emits:["delete"],setup(c,{emit:d}){const _=c,{$bridge:u}=C(),r=u;r.setjwt(M("token").value??"");const p=d,i=async()=>{await r.deleteReminder(_.id),p("delete")};return(o,v)=>{const n=J;return m(),x("div",{class:F(["post",c.color])},[e("button",{class:"delete-button",onClick:i},"x"),e("p",null,E(c.text),1),w(n,{class:"profile-icon"})],2)}}},se=B(te,[["__scopeId","data-v-a9774975"]]),ne={__name:"index",setup(c){const d=R(!1),_=()=>d.value=!0,u=$(),{$bridge:r}=C(),p=r;p.setjwt(M("token").value??"");const i=R([]),o=async()=>{const v=await p.getAllReminders(u.user.colocationId);i.value=v};return L(async()=>{await o()}),(v,n)=>{const f=oe,k=se;return m(),x("div",null,[w(f,{modelValue:s(d),"onUpdate:modelValue":n[0]||(n[0]=a=>O(d)?d.value=a:null),onProceed:n[1]||(n[1]=a=>o())},null,8,["modelValue"]),e("button",{class:"add-post","data-toggle":"modal","data-target":".bd-example-modal-sm",onClick:_},n[3]||(n[3]=[e("img",{src:K,class:"plus"},null,-1)])),(m(!0),x(z,null,G(s(i),(a,g)=>(m(),x("div",{key:g},[w(k,{id:a.id,text:a.content,color:a.color,onDelete:n[2]||(n[2]=P=>o())},null,8,["id","text","color"])]))),128))])}}},de=B(ne,[["__scopeId","data-v-891c8e4a"]]);export{de as default};
