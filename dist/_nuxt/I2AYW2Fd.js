import{_ as C}from"./Dirlivie.js";import{d as v,a as _,b as i,E as s,F as d,G as q,I as U,_ as x,O as w,a5 as N,h as R,r as g,j as S,P as F,u as k,$ as V,a0 as j,U as L}from"./Ki-fkkP3.js";import{_ as T}from"./BOXG3y_H.js";import{_ as A}from"./D4oEyeuW.js";const D={class:"expense-header"},G={class:"expense-name"},M={class:"expense-amount"},O={class:"payer"},P=v({__name:"ExpenseItem",props:{expense:{},paidBy:{},onclick:{type:Function}},setup(m){const u=m;return(t,n)=>{const r=C;return i(),_("div",{class:"expense",onClick:n[0]||(n[0]=c=>u.onclick&&u.onclick())},[s("div",D,[s("span",G,d(t.expense.name),1),s("span",M,d(t.expense.amount)+" â‚¬",1)]),s("div",O,[s("span",null,[q(r,{source:"paidby"}),U(" "+d(t.paidBy),1)])])])}}}),z=x(P,[["__scopeId","data-v-9f1fd7d9"]]),H={class:"background"},J={class:"header"},K={class:"square"},Q=["onClick"],W=v({__name:"historical",setup(m){const t=w().user,n=N(),r=R(),c=n.query.name,h=n.query.id,y=g([]),f=g([]),{$bridge:$}=S(),l=$;l.setjwt(F("token").value??"");const B=t.colocationId;l.getExpensebycategoryId(h).then(e=>{y.value=e}).catch(e=>{console.error("Error fetching data:",e)}),l.getUserbyCollocId(B).then(e=>{f.value=e}).catch(e=>{console.error("Error fetching data:",e)});const E=e=>{const o=f.value.find(p=>p.id===e);return o?o.username:"Unknown"},I=()=>{console.log(c),r.push({path:"/money/addExpense",query:{name:c,categoryId:h}})},b=e=>{r.push({path:"/money/ModifyExpense",query:{id:e}})};return(e,o)=>{const p=z;return i(),_("div",H,[s("div",J,[s("img",{src:T,alt:"Return",width:"30",height:"30",onClick:o[0]||(o[0]=a=>e.$router.back())}),s("h1",null,d(k(c)),1),s("div",K,[s("div",{id:"add",onClick:()=>I()},o[1]||(o[1]=[s("img",{src:A,alt:"Return",width:"30",height:"30"},null,-1)]),8,Q)])]),s("div",null,[(i(!0),_(V,null,j(k(y),a=>(i(),L(p,{key:a.id,expense:a,onclick:()=>b(a.id),paidBy:E(a.paidBy)},null,8,["expense","onclick","paidBy"]))),128))])])}}}),se=x(W,[["__scopeId","data-v-1663c31a"]]);export{se as default};
