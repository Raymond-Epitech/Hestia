import{a8 as A,i as I,a1 as E,a0 as w,m as y,a9 as R,aa as O}from"./-TKAxbLO.js";const k="usehead";function H(){if(A()){const o=I(k);if(!o)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return o}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}const r=new Map;let m,x,i,h;function M(o){const u=E().path,s=H(),{currentRoute:l}=w(),p=w();let f=!1,c=o;const d={dispose(){const e=[...r.get(u)],n=e.findIndex(a=>a[0]===c);if(n===-1)return;const t=e[n][1];t==null||t.dispose(),e.splice(n,1),r.set(u,e)},patch(e){const n=[...r.get(u)],t=n.findIndex(g=>g[0]===c);if(t===-1)return;const[,a]=n[t];c=e,a==null||a.patch(c),n.splice(t,1,[c,a]),r.set(u,n)}};if(r.has(u)){const e=s==null?void 0:s.push(o),n=r.get(u)||[];r.set(u,[...n,[o,e]])}else{const e=s==null?void 0:s.push(o);r.set(u,[[o,e]])}return y(d.dispose),m||(m=p.beforeEach(()=>{h=l.value.path})),x||(x=p.afterEach(()=>{i=l.value.path})),R(()=>{let e=r.get(h);e&&(e=e.map(([n,t])=>(t==null||t.dispose(),[n,t])),r.set(h,e)),f=!0}),O(()=>{if(f){let e=r.get(i);e&&(e=e.map(([n,t])=>{t==null||t.dispose();const a=s==null?void 0:s.push(n);return[n,a]}),r.set(i,e))}}),d}export{M as u};
